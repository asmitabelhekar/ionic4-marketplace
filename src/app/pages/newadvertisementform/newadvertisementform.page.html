<ion-header>
  <ion-toolbar class="new-background-color">
    <ion-title style="color:white">Advertisement</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <mat-vertical-stepper [linear]="true" #stepper style="padding-bottom:100px;">
    <mat-step [stepControl]="firstFormGroup">
      <form [formGroup]="firstFormGroup" fxLayout="column" (ngSubmit)="form1()" #formone="ngForm">
        <ng-template matStepLabel>Advertisement Detail</ng-template>
        <mat-form-field appearance="outline" class="margin-top-css">
          <mat-label class="floating-label-css">Title</mat-label>
          <input matInput type="text" formControlName="titleCtrl" required class="text-font-size">
        </mat-form-field>


        <mat-form-field appearance="outline" class="margin-top-css">
          <mat-label class="floating-label-css">Price</mat-label>
          <input matInput type="number" formControlName="priceCtrl" required class="text-font-size">
        </mat-form-field>

        <mat-form-field appearance="outline" class="margin-top-css">
          <mat-label class="floating-label-css">Description</mat-label>
          <textarea matInput type="text" formControlName="descriptionCtrl" required class="text-font-size"></textarea>
        </mat-form-field>

        <div fxLayoutAlign="start start" fxFlex="100">
          <button mat-button matStepperNext class="buttonClass">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="secondFormGroup">
      <form [formGroup]="secondFormGroup" fxLayout="column" (ngSubmit)="form2()" #formtwo="ngForm">
        <ng-template matStepLabel>Contact Details</ng-template>
        <mat-form-field appearance="outline" class="margin-top-css">
          <mat-label class="floating-label-css">Email</mat-label>
          <input matInput type="email" class="text-font-size" formControlName="emailCtrl" required
            pattern="[A-Za-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
        </mat-form-field>

        <div fxLayout="row" fxLayoutAlign="center center" style="width:100%;">
          <mat-form-field class="margin-top-css" style="width:25%; height:82px; margin-right:10px; "
            appearance="outline">
            <mat-label class="floating-label-css">Select Code</mat-label>
            <mat-select name="type" formControlName="countryCodeCtrl" style="font-size:13px;"
              (selectionChange)="selectCountryCode(selectedCode)" class="filter-select" [(value)]="selectedCode">
              <mat-option *ngFor="let code of countryCode" [value]="code.dial_code">
                +{{code.dial_code}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline" class="margin-top-css" style="width:74%; height:82px; ">
            <mat-label class="floating-label-css">Mobile</mat-label>
            <input matInput type="tel" minlength="10" class="text-font-size" maxlength="10" formControlName="mobileCtrl"
              required>
          </mat-form-field>

        </div>


        <ion-row
          style="border: 1px solid #d3d5da;border-radius: 5px;height:60px; padding-left:8px; width:100%; margin-top:5px;margin-bottom:15px">
          <ion-col size="4" fxLayoutAlign="start center">
            <label class="floating-label-css" fxLayoutAlign="start center">Gender</label>

          </ion-col>

          <ion-col size="8" fxLayoutAlign="center center">
            <ion-radio-group (ionChange)="radioGroupChange($event)" formControlName="checkRadioButton">

              <div fxLayout="row" fxLayoutGap="10px">
                <div *ngFor="let item of genderArray" fxLayoutAlign="center center">
                  <ion-radio value="{{item.value}}"></ion-radio>
                  <ion-label fxLayoutAlign="center center" class="floating-label-css" style="margin-left:10px">
                    {{item.name}}</ion-label>
                </div>



              </div>

            </ion-radio-group>


          </ion-col>
        </ion-row>

        <label class="floating-label-css" style="color:gray;margin-top:5px;margin-bottom:5px;">Just start typing you
          will get autocomplete result
          for address</label>
        <mat-form-field appearance="outline" class="margin-top-css">
          <mat-label class="floating-label-css">Address</mat-label>
          <input matInput class="text-font-size" formControlName="addressCtrl" ngx-google-places-autocomplete
            #placesRef="ngx-places" name="city" required (onAddressChange)="handleAddressChange($event)">
        </mat-form-field>

        <div fxFlex="100" fxLayoutGap="15px" fxLayoutAlign="start start">
          <button mat-button class="buttonBackClass" matStepperPrevious>Back</button>
          <button mat-button class="buttonClass" matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="thirdFormGroup">
      <form [formGroup]="thirdFormGroup" fxLayout="column" (ngSubmit)="form3()" #formthree="ngForm">
        <ng-template matStepLabel>Images Upload</ng-template>
        <label class="desc-text" style="color:gray;margin-top:5px;">We recommend uploading image aspect ratio as
          2:1</label>


        <div class="cl_image_div" style="margin-top:20px;" fxLayout="row">
          <div fxLayout="column" fxLayoutAlign="center center" class="cl_first_column_img"
            onclick="document.getElementById('image_upload1').click()">
            <ion-icon *ngIf="firstImage == '' " name="camera" class="cl_images"></ion-icon>
            <label class="floating-label-css" *ngIf="firstImage == '' " align="center">Upload Image</label>
            <img *ngIf="firstImage != '' " src="{{firstImage}}" class="cl_display_img">
          </div>
          <div fxLayout="column" fxLayoutAlign="center center" class="cl_second_column_img"
            onclick="document.getElementById('image_upload2').click()">
            <ion-icon *ngIf="secondImage == '' " name="camera" class="cl_images"></ion-icon>
            <label class="floating-label-css" *ngIf="secondImage == '' " align="center">upload Image</label>
            <img *ngIf="secondImage != '' " src="{{secondImage}}" class="cl_display_img">
          </div>
        </div>

        <div class="cl_image_div" fxLayout="row">
          <div fxLayout="column" fxLayoutAlign="center center" class="cl_first_column_img"
            onclick="document.getElementById('image_upload3').click()">
            <ion-icon *ngIf="thirdImage == '' " name="camera" class="cl_images"></ion-icon>
            <label class="floating-label-css" *ngIf="thirdImage == '' " align="center">upload Image</label>
            <img *ngIf="thirdImage != '' " src="{{thirdImage}}" class="cl_display_img">
          </div>
          <div fxLayout="column" fxLayoutAlign="center center" class="cl_second_column_img"
            onclick="document.getElementById('image_upload4').click()">
            <ion-icon *ngIf="fourthImage == '' " name="camera" class="cl_images"></ion-icon>
            <label class="floating-label-css" *ngIf="fourthImage == '' " align="center">upload Image</label>
            <img *ngIf="fourthImage != '' " src="{{fourthImage}}" class="cl_display_img">
          </div>
        </div>

        <div class="cl_image_div" fxLayout="row">
          <div fxLayout="column" fxLayoutAlign="center center" class="cl_first_column_img"
            onclick="document.getElementById('image_upload5').click()">
            <ion-icon *ngIf="fifthImage == '' " name="camera" class="cl_images"></ion-icon>
            <label class="floating-label-css" *ngIf="fifthImage == '' " align="center">upload Image</label>
            <img *ngIf="fifthImage != '' " src="{{fifthImage}}" class="cl_display_img">
          </div>

        </div>

        <input style="display: none;" id="image_upload1" type="file" (change)="detectEventGallery($event,0)">
        <input style="display: none;" id="image_upload2" type="file" (change)="detectEventGallery($event,1)">
        <input style="display: none;" id="image_upload3" type="file" (change)="detectEventGallery($event,2)">
        <input style="display: none;" id="image_upload4" type="file" (change)="detectEventGallery($event,3)">
        <input style="display: none;" id="image_upload5" type="file" (change)="detectEventGallery($event,4)">


        <div fxFlex="100" fxLayoutGap="15px" style="margin-top:20px;" fxLayoutAlign="start start">
          <button mat-button class="buttonBackClass" matStepperPrevious>Back</button>
          <button mat-button class="buttonClass" matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="fourthFormGroup">
      <form [formGroup]="fourthFormGroup" fxLayout="column" (ngSubmit)="form4()" #formfour="ngForm">
        <ng-template matStepLabel>Filter Detail</ng-template>

        <mat-form-field appearance="outline" style="width:100%" class="margin-top-css">
          <mat-label class="floating-label-css">Select Category</mat-label>

          <mat-select style="font-size:13px;" name="type" formControlName="categoryId"
            (selectionChange)="selectCategoryType(categoryId)" class="filter-select" [(value)]="categoryId">
            <mat-option *ngFor="let type of categoryArray" [value]="type.id">
              {{type.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" style="width:100%" class="margin-top-css">
          <mat-label class="floating-label-css">Select Sub Category</mat-label>

          <mat-select style="font-size:13px;" name="type" formControlName="subCategoryId"
            (selectionChange)="selectSubCategoryType(subCategoryId)" class="filter-select" [(value)]="subCategoryId">
            <mat-option *ngFor="let type of subCategoryArray" [value]="type.id">
              {{type.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field style="width:100%;" appearance="outline" class="margin-top-css">
          <mat-label class="floating-label-css">Tags</mat-label>
          <mat-select style="font-size:13px;" name="tag" formControlName="selectedTags"
            (selectionChange)="selectedTags(selectedTags)" class="filter-select" [(value)]="selectedTags" multiple>
            <mat-option *ngFor="let tag of tagsArray" [value]="tag.name">
              {{tag.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>


        <mat-form-field style="width:100%;" appearance="outline" class="margin-top-css">
          <mat-label class="floating-label-css">Languages you support</mat-label>
          <mat-select style="font-size:13px;" name="year" formControlName="selectedLanguages"
            (selectionChange)="selectedChanged(selectedLanguages)" class="filter-select" [(value)]="selectedLanguages"
            multiple>
            <mat-option *ngFor="let year of languageArray" [value]="year.name">
              {{year.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div fxFlex="100" fxLayoutGap="15px" fxLayoutAlign="start start">
          <button mat-button class="buttonBackClass" matStepperPrevious>Back</button>
          <button mat-button class="buttonClass" matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="fifthFormGroup" *ngIf="postStatus == '1' ">
      <form [formGroup]="fifthFormGroup" fxLayout="column" #formfour="ngForm">
        <ng-template matStepLabel>Dates</ng-template>

        <div fxFlex="100" fxLayoutGap="10" fxLayout="row">
          <ion-card class="expiryCard-css" fxFlex="49" fxLayout="column" fxLayoutAlign="center center">
            <label class="padding1px">Advertisement</label>
            <label class="padding1px">plan</label>
            <label class="padding1px">expires on</label>
            <label class="padding1px"><b>{{getEndDateForUpdate | date }}</b></label>
          </ion-card>
  
          <ion-card class="expiryCard-css" fxFlex="49" fxLayout="column" fxLayoutAlign="center center">
            <label class="padding1px">Banner</label>
            <label class="padding1px">plan</label>
            <label class="padding1px">expires on</label>
            <label class="padding1px"><b>{{getEndDateForUpdateBanner | date }}</b></label>
          </ion-card>
          <!-- <ion-card class="expiryCard-css" fxFlex="48">
            <label class="line">Banner plan expires on <b>{{getEndDateForUpdateBanner | date }}</b></label>
          </ion-card> -->
        </div>
       

        <!-- <ion-row style="margin:5px;margin-top:10px;">
          <ion-col size="5">
            <label style="color:rgb(66, 65, 65);font-size:12px;">Advertisement - </label>
          </ion-col>
          <ion-col size="7">
            <label style="color:rgb(66, 65, 65);font-size:12px;">{{getStartDateForUpdate | date}} &nbsp; <b>-</b>
              &nbsp; {{getEndDateForUpdate | date }}</label>
          </ion-col>
        </ion-row>
        <ion-row style="margin:5px;" *ngIf="checkBannerEndDateTimestamp != 0 ">
          <ion-col size="5">
            <label style="color:rgb(66, 65, 65);font-size:12px;">Banner - </label>
          </ion-col>
          <ion-col size="7">
            <label style="color:rgb(66, 65, 65);font-size:12px;">{{getStartDateForUpdateBanner | date}} &nbsp;
              <b>-</b> &nbsp; {{getEndDateForUpdateBanner | date}}</label>
          </ion-col>
        </ion-row> -->



        <div fxFlex="100" fxLayoutGap="15px" fxLayoutAlign="start start" style="margin-top:15px;">
          <button mat-button class="buttonBackClass" matStepperPrevious>Back</button>
          <button mat-button class="buttonClass" matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="sixthFormGroup">
      <form [formGroup]="sixthFormGroup" fxLayout="column" (ngSubmit)="form5()" #formfive="ngForm">
        <ng-template matStepLabel>Payment</ng-template>



        <div style="padding-bottom:10px;" fxLayout="column">

          <label class="desc-text" style="margin-top:15px;margin-bottom:10px;font-weight:400">Advertisement Plans</label>


          <div fxLayout="row wrap">
            <div *ngFor="let item of plansArray">
              <ion-card *ngIf="item.isAdvertisement == 0 " fxLayout="column"
                [ngClass]="(adPlanName == item.name) ? 'card-one' : 'card-two' " fxLayoutAlign="center center"
                class="card-css" (click)="checkAdveriseMentPriceCard(item.name,item.price,item.noOfDays)">
                <label [ngClass]="(adPlanName == item.name) ? 'h-css-one' : 'h-css-two' " style="font-size:17px;font-weight:450">${{item.price}}</label>
                <label [ngClass]="(adPlanName == item.name) ? 'label-css-one' : 'label-css-two' " fxLayoutAlign="center center" style="font-size:11px;font-weight:400;margin-top:6px;">{{item.name}}</label>

              </ion-card>
            </div>

          </div>

          <label class="desc-text" style="margin-top:10px;margin-bottom:10px;font-weight:400">Banner Plans</label>

          <div fxLayout="row wrap">
            <div *ngFor="let item of plansArray" >
              <ion-card *ngIf="item.isAdvertisement == 1 "  fxLayout="column"
                [ngClass]="(bannerPlanName == item.name) ? 'card-one' : 'card-two' " fxLayoutAlign="center center"
                class="card-css" (click)="checkBannerPriceCard(item.name,item.price,item.noOfDays)">
                <label [ngClass]="(bannerPlanName == item.name) ? 'h-css-one' : 'h-css-two' " style="font-size:17px;font-weight:450">${{item.price}}</label>
                <label [ngClass]="(bannerPlanName == item.name) ? 'label-css-one' : 'label-css-two' "  fxLayoutAlign="center center" style="font-size:11px;font-weight:400;margin-top:6px;">{{item.name}}</label>
              </ion-card>
            </div>
          </div>

          <div fxFlex="100" *ngIf="totalCalculatePayment != 0 " style="margin-top:15px;padding:10px;">
            <label style="color:#fb7645">Total : $ {{totalCalculatePayment}} </label>

          </div>


        </div>
        <div fxFlex="100">
          <button class="buttonPayClass" *ngIf="totalCalculatePayment == 0 "
            (click)="submmitAdvertisementData()">Update</button>
          <button class="buttonPayClass" *ngIf="totalCalculatePayment != 0 " (click)="submmitAdvertisementData()">Pay
            with RazorPay</button>
        </div>

      </form>
    </mat-step>
  </mat-vertical-stepper>

  <div class="cl_bottom_fix" fxLayout="row" fxLayoutAlign="space-around center" style="margin-top:10px">

    <div fxLayout="column" fxLayoutAlign="center center" style="width:20%" (click)="home()">
      <ion-icon name="home" class="cl_bottom_nav_css" (click)="home()"></ion-icon>
      <label fxLayoutAlign="center center" class="cl_text_font">HOME</label>
    </div>


    <div fxLayout="column" fxLayoutAlign="center center" style="width:20%" (click)="openChatList()">
      <ion-icon class="cl_bottom_nav_css" name="document" (click)="openChatList()"></ion-icon>
      <label fxLayoutAlign="center center" class="cl_text_font">CHATS</label>
    </div>


    <div fxLayout="column" fxLayoutAlign="center center" style="width:20%" (click)="postAdvertisement()">
      <ion-icon class="cl_post_css" name="add-circle" (click)="postAdvertisement()">
      </ion-icon>
      <label fxLayoutAlign="center center" class="cl_selected-text_font">SELL</label>
    </div>

    <div fxLayout="column" fxLayoutAlign="center center" style="width:20%" (click)="openFavourite()">
      <ion-icon class="cl_bottom_nav_css" name="heart" (click)="openFavourite()"></ion-icon>
      <label fxLayoutAlign="center center" class="cl_text_font">MY ADS</label>
    </div>


    <div fxLayout="column" fxLayoutAlign="center center" style="width:20%" (click)="openProfile()">
      <ion-icon class="cl_bottom_nav_css" name="person" (click)="openProfile()"></ion-icon>
      <label fxLayoutAlign="center center" class="cl_text_font">PROFILE</label>
    </div>

  </div>
</ion-content>